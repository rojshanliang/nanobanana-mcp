# ========================================
# NanoBanana MCP - 环境配置模板
# ========================================
# 请将此文件复制为 `.env` 并根据所选API模式填写相应配置


# ----------------------------------------
# API模式选择 (必填)
# ----------------------------------------
# 可选值: ai_studio | vertex
# 默认值: ai_studio (保持向后兼容)
API_MODE=ai_studio


# ========================================
# 模式 1: AI Studio 配置
# ========================================
# 适用于个人开发者和小规模应用
# 获取API密钥: https://aistudio.google.com/apikey

# AI Studio API密钥 (AI Studio模式必填)
# 示例: GOOGLE_AI_API_KEY=AIzaSyD...
GOOGLE_AI_API_KEY=

# AI Studio 模型ID (可选)
# 默认值: gemini-2.5-flash-image
# 可选模型: gemini-1.5-flash, gemini-2.0-flash-exp
AI_STUDIO_MODEL_ID=gemini-2.5-flash-image


# ========================================
# 模式 2: Vertex AI 配置
# ========================================
# 适用于企业级应用和需要GCP集成的场景
# 前置要求:
#   1. 启用 Vertex AI API: https://console.cloud.google.com/apis/library/aiplatform.googleapis.com
#   2. 创建服务账号并下载密钥文件 (JSON格式)
#   3. 或配置 Application Default Credentials (ADC)

# GCP项目ID (Vertex AI模式必填)
# 获取方式: GCP Console → 项目列表 → 项目ID列
# 示例: VERTEX_PROJECT_ID=my-gcp-project-123456
VERTEX_PROJECT_ID=

# Vertex AI 服务区域 (可选)
# 默认值: us-central1
# 可选区域: us-central1, europe-west4, asia-northeast1 等
# 注意: 不同区域的模型可用性可能不同
VERTEX_LOCATION=us-central1

# Vertex AI 模型ID (可选)
# 默认值: gemini-2.5-flash-image
# 确保所选模型在指定区域已部署
VERTEX_MODEL_ID=gemini-2.5-flash-image

# 服务账号密钥文件路径 (可选)
# 优先级: 密钥文件 > ADC
# 示例: GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json
# 注意: 请使用绝对路径,确保文件已添加到 .gitignore
GOOGLE_APPLICATION_CREDENTIALS=


# ========================================
# 认证方式说明
# ========================================
#
# AI Studio 模式:
#   - 仅需 GOOGLE_AI_API_KEY
#   - 无需GCP项目配置
#   - 适合快速开发和测试
#
# Vertex AI 模式 - 方式1 (推荐):
#   - 设置 GOOGLE_APPLICATION_CREDENTIALS 指向密钥文件
#   - 确保密钥文件格式为 JSON
#   - 确保服务账号具有 Vertex AI User 权限
#
# Vertex AI 模式 - 方式2 (ADC):
#   - 不设置 GOOGLE_APPLICATION_CREDENTIALS
#   - 运行: gcloud auth application-default login
#   - 系统自动使用默认凭据
#   - 适合本地开发环境
#
# ========================================


# ========================================
# 使用示例
# ========================================
#
# 示例 1: AI Studio 模式 (默认)
# --------------------------------
# API_MODE=ai_studio
# GOOGLE_AI_API_KEY=AIzaSyD...
#
# 示例 2: Vertex AI + 密钥文件
# --------------------------------
# API_MODE=vertex
# VERTEX_PROJECT_ID=my-project-123
# VERTEX_LOCATION=us-central1
# GOOGLE_APPLICATION_CREDENTIALS=/Users/username/keys/vertex-key.json
#
# 示例 3: Vertex AI + ADC
# --------------------------------
# API_MODE=vertex
# VERTEX_PROJECT_ID=my-project-123
# VERTEX_LOCATION=us-central1
# (运行: gcloud auth application-default login)
#
# ========================================


# ========================================
# 故障排除
# ========================================
#
# 错误: "GOOGLE_AI_API_KEY is required"
#   解决: 检查 API_MODE 是否为 ai_studio, 确认已设置 GOOGLE_AI_API_KEY
#
# 错误: "VERTEX_PROJECT_ID is required"
#   解决: 检查 API_MODE 是否为 vertex, 确认已设置 VERTEX_PROJECT_ID
#
# 错误: "Model not found"
#   解决: 验证 VERTEX_LOCATION 区域是否支持所选模型
#
# 错误: "Authentication failed"
#   解决:
#     - 检查 GOOGLE_APPLICATION_CREDENTIALS 路径是否正确
#     - 或运行: gcloud auth application-default login
#     - 确认服务账号具有 Vertex AI User 角色
#
# ========================================
